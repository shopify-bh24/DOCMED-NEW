{%- for block in section.blocks -%}
{%- case block.type -%}
  {%- when '@app' -%}
    {% render block %}
  {%- when 'text' -%}
  {% style %}
    look-book .grid__item.active .card--{{ block.id }}{
      background-color: {{ block.settings.active_color }};
    } 
  {% endstyle %}
  <look-book>
    <div class="grid grid--2-col-desktop grid--1-col-tablet-down rless {% if settings.var_pill_style == 'button' %}background_pill{% endif %}">
      <slideshow-component class="relative grid__item slider-mobile-gutter slider-component-desktop{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
        {% if forloop.first %}
          {% if section.settings.miniheading != blank or section.settings.title != blank or section.settings.description != blank %}
            <div class="heading-top justify-content-{{ section.settings.heading_alignment }}">
                <div class="heading inline-richtext {{ section.settings.heading_alignment }}">
                  {%- if section.settings.miniheading != blank -%}
                    <span class="offer_pills {% if section.settings.mini_heading_style == 'button' %}offer_pills_button {% elsif section.settings.mini_heading_style == 'outline' %}offer_pills_outline {% else section.settings.mini_heading_style == 'link' %}offer_pills_link {% endif %}">
                        {{ section.settings.miniheading }}
                    </span>
                  {%- endif %}
                  {%- if section.settings.title != blank -%} 
                    <h2 class="{{ section.settings.heading_size }}">
                      {{ section.settings.title }}
                    </h2>
                  {%- endif %}
                  {%- if section.settings.description != blank -%}
                    <div class="description {{ section.settings.description_style }} rte">
                      {{ section.settings.description -}}
                    </div>
                  {%- endif %}
                </div>
            </div>
          {% endif %}
        {% endif %}
        <ul id="Slider-{{ section.id }}" class="over_scroll slider slider--tablet grid product-grid contains-card contains-card--product grid--1-col-desktop grid--1-col-tablet-down {% if settings.card_style == 'standard' %} contains-card--standard{% endif %}" aria-label="{{ 'general.slider.name' | t }}">
          {%- for i in (1..4) -%} 
            {%- liquid 
              assign wblooktop = 'wblooktop_' | append: i
              assign wblooktop = block.settings[wblooktop]
              assign wblookleft = 'wblookleft_' | append: i
              assign wblookleft = block.settings[wblookleft]
              assign wblookpd_index = 'product_' | append: i
              assign wblookpd = block.settings[wblookpd_index]
              assign wblookpd = all_products[wblookpd]
            -%}
            <li id="Slide-{{ section.id }}-{{ forloop.index }}" class="grid__item slider__slide slideshow__slide {% if settings.animations_reveal_on_scroll %}scroll-trigger animate--slide-in{% endif %}{% if forloop.first %} active{% endif %}" {% if settings.animations_reveal_on_scroll %} data-cascade style="--animation-order: {{ forloop.index }};"{% endif %} data-blobkid="lookbook-{{ forloop.index }}-{{ block.id }}">
            {%- if wblookpd and wblookpd != empty -%}
              {%- liquid
                  assign ratio = 1
                  if wblookpd.featured_media and settings.image_ratio == 'portrait'
                      assign ratio = 0.8
                  elsif wblookpd.featured_media and settings.image_ratio == 'adapt'
                      assign ratio = wblookpd.featured_media.aspect_ratio
                  endif
                  if ratio == 0 or ratio == null
                      assign ratio = 1
                  endif
              -%}
              <div class="card_lookbook_list card-wrapper wbproduct-container product-card-wrapper {{ settings.card_text_alignment }} ">
                <div class=" card card--card card--{{ block.id }}
                    {%- if wblookpd.featured_media == blank and settings.card_style == 'card' -%} blank__image {% endif %}
                    {% if wblookpd.featured_media %} card--media{% endif %}
                    color-{{ settings.card_color_scheme }} gradient
                    {% if image_shape and image_shape != 'default' %} card--shape{% endif %}
                    {% if extend_height %} card--extend-height{% endif %}
                    card--horizontal" style="--ratio-percent: {{ 1 | divided_by: ratio | times: 100 }}%;">
                  <div class="{% unless wblookpd.featured_media %}blank__pro_image center {% endunless %}card__inner wbimgblock {% if settings.image_ratio == 'landscape' %} image--landscape {% endif %} color-{{ settings.card_color_scheme }} gradient {% if wblookpd.featured_media or settings.card_style == 'standard' %} ratio{% endif %}" style="--ratio-percent: {{ 1 | divided_by: ratio | times: 100 }}%;">
                    {%- if wblookpd.featured_media -%}
                      {% comment %} Variants Wise Change Product Image {% endcomment %}
                      <div id="webipro-{{ section.id }}-{{ wblookpd.id }}" class="card__media {% if image_shape and image_shape != 'default' %} shape--{{ image_shape }} color-{{ settings.card_color_scheme }} gradient{% endif %}">
                          {%- assign media = wblookpd.selected_or_first_available_variant.featured_media -%}
                        <div class="product__media-item" data-media-id="{{ section.id }}-{{ wblookpd.id }}-{{ media.id }}">
                            {% comment %}theme-check-disable ImgLazyLoading{% endcomment %}
                            <a href="{{ wblookpd.url | append: '?variant=' | append: wblookpd.selected_or_first_available_variant.id | default: '#' }}"
                              title="{{ wblookpd.title | escape }}"
                              class="media media--transparent media--{{ media_size }} media--hover-effect" {% if media_size == 'adapt' and wblookpd.featured_media %} style="padding-bottom: {{ 1 | divided_by: featured_media_aspect_ratio | times: 100 }}%;"{% endif %}>
                              <img srcset="{%- if wblookpd.featured_media.width >= 165 -%}{{ wblookpd.featured_media | image_url: width: 165 }} 165w,{%- endif -%}
                              {%- if wblookpd.featured_media.width >= 360 -%}{{ wblookpd.featured_media | image_url: width: 360 }} 360w,{%- endif -%}
                              {%- if wblookpd.featured_media.width >= 533 -%}{{ wblookpd.featured_media | image_url: width: 533 }} 533w,{%- endif -%}
                              {%- if wblookpd.featured_media.width >= 720 -%}{{ wblookpd.featured_media | image_url: width: 720 }} 720w,{%- endif -%}
                              {%- if wblookpd.featured_media.width >= 940 -%}{{ wblookpd.featured_media | image_url: width: 940 }} 940w,{%- endif -%}
                              {%- if wblookpd.featured_media.width >= 1066 -%}{{ wblookpd.featured_media | image_url: width: 1066 }} 1066w,{%- endif -%}
                              {{ wblookpd.featured_media | image_url }} {{ wblookpd.featured_media.width }}w "
                                src="{{ wblookpd.featured_media | image_url: width: 533 }}"
                                sizes="(min-width: {{ settings.page_width }}px) {{ settings.page_width | minus: 130 | divided_by: 4 }}px, (min-width: 992px) calc((100vw - 130px) / 4), (min-width: 768px) calc((100vw - 120px) / 3), calc((100vw - 35px) / 2)"
                                alt="{{ wblookpd.featured_media.alt | escape }}"
                                class="motion-reduce"
                                {% unless lazy_load == false %} loading="lazy"{% endunless %}
                                width="{{ wblookpd.featured_media.width }}"
                                height="{{ wblookpd.featured_media.height }}">
                                {%- if wblookpd.media[1] != nil and show_secondary_image -%}
                                  <img srcset="{%- if wblookpd.media[1].width >= 165 -%}{{ wblookpd.media[1] | image_url: width: 165 }} 165w,{%- endif -%}
                                  {%- if wblookpd.media[1].width >= 360 -%}{{ wblookpd.media[1] | image_url: width: 360 }} 360w,{%- endif -%}
                                  {% if wblookpd.media[1].width >= 493 %}{{ wblookpd.media[1] | image_url: width: 493 }} 493w,{% endif %}
                                  {% if wblookpd.media[1].width >= 600 %}{{ wblookpd.media[1] | image_url: width: 600 }} 600w,{% endif %}
                                  {% if wblookpd.media[1].width >= 713 %}{{ wblookpd.media[1] | image_url: width: 713 }} 713w,{% endif %}
                                  {% if wblookpd.media[1].width >= 823 %}{{ wblookpd.media[1] | image_url: width: 823 }} 823w,{% endif %}
                                  {% if wblookpd.media[1].width >= 992 %}{{ wblookpd.media[1] | image_url: width: 992 }} 992w,{% endif %}
                                  {{ wblookpd.media[1] | image_url }} {{ wblookpd.media[1].width }}w"
                                    src="{{ wblookpd.media[1] | image_url: width: 370 }}"
                                    alt="{{ wblookpd.media[1].alt | escape }}"
                                    sizes="(min-width: {{ settings.page_width }}px) {{ settings.page_width | minus: 130 | divided_by: 4 }}px, (min-width: 992px) calc((100vw - 130px) / 4), (min-width: 768px) calc((100vw - 120px) / 3), calc((100vw - 35px) / 2)"
                                    class="motion-reduce img-fluid mx-auto lazyload"
                                    loading="lazy"
                                    width="{{ wblookpd.media[1].width }}"
                                    height="{{ wblookpd.media[1].height }}">
                                {%- endif -%}
                            </a>
                        </div>
                        
                        {% comment %} Cart Button Start {% endcomment %}
                        
                        <product-form class="{% if on_img_on_hover %}on_img_on_hover {% endif %}no-js-hidden top_atc" id="ProductInfo-{{ section.id }}-{{ wblookpd.id }}">
                          {%- assign product_form_id = 'product-form-' | append: section.id | append: '-' | append: wblookpd.id -%}
                          {%- form 'product', wblookpd, id: product_form_id, class: 'form', novalidate: 'novalidate', data-type: 'add-to-cart-form' -%}
                            <input type="hidden" name="id" class="product-variant-id" value="{{ wblookpd.selected_or_first_available_variant.id }}" disabled>
                            {% if atc_btn_position == 'on_img' %}
                              <button id="{{ product_form_id }}-submit" type="submit" name="add"
                                class="add-to-cart__submit button button--primary" aria-haspopup="dialog"
                                aria-labelledby="{{ product_form_id }}-submit title-{{ section_id }}-{{ wblookpd.id }}"
                                aria-live="polite"
                                data-sold-out-message="true" {% if wblookpd.selected_or_first_available_variant.available == false %} disabled {% endif %}>
                                {%- if wblookpd.selected_or_first_available_variant.available -%}
                                  <span>{{ 'products.product.add_to_cart' | t }}</span>
                                  {% comment %} {% render 'icon-hcartbag' %} {% endcomment %}
                                {%- else -%}
                                  <span>{{ 'products.product.sold_out' | t }}</span>
                                  {% comment %} {% render 'icon-hcartbag' %} {% endcomment %}
                                {%- endif -%}
                                <span class="sold-out-message hidden">{{ 'products.product.sold_out' | t }}</span>
                                <span class="loading-overlay__spinner hidden">
                                  <svg aria-hidden="true" focusable="false" class="spinner" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg"> <circle class="path" fill="none" stroke-width="6" cx="33" cy="33" r="30"></circle> </svg>
                                </span>
                              </button>
                            {% endif %}
                            {%- endform -%}
                          </product-form>
                        {% comment %} Cart Button End {% endcomment %}
                        {%- liquid
                          assign media_to_render = wblookpd.featured_media.id
                          for variant in wblookpd.variants
                              assign media_to_render = media_to_render | append: variant.featured_media.id | append: ' '
                          endfor
                        -%}
                        {%- for media in wblookpd.media -%}
                          {%- if media_to_render contains media.id and media.id != wblookpd.selected_or_first_available_variant.featured_media.id -%}
                            <div class="product__media-item" data-media-id="{{ section.id }}-{{ wblookpd.id }}-{{ media.id }}">
                              <a href="{{ wblookpd.url | append: '?variant=' | append: wblookpd.selected_or_first_available_variant.id | default: '#' }}"
                                title="{{ wblookpd.title | escape }}"
                                class="media media--transparent media--{{ media_size }} media--hover-effect" {% if media_size == 'adapt' and wblookpd.featured_media %} style="padding-bottom: {{ 1 | divided_by: featured_media_aspect_ratio | times: 100 }}%;"{% endif %}>
                                <img class="img-fluid mx-auto lazyload"
                                  srcset="{%- if media.preview_image.width >= 165 -%}{{ media.preview_image | image_url: width: 165 }} 165w,{%- endif -%}
                                    {%- if media.preview_image.width >= 360 -%}{{ media.preview_image | image_url: width: 360 }} 360w,{%- endif -%}
                                    {% if media.preview_image.width >= 493 %}{{ media.preview_image | image_url: width: 493 }} 493w,{% endif %}
                                    {% if media.preview_image.width >= 600 %}{{ media.preview_image | image_url: width: 600 }} 600w,{% endif %}
                                    {% if media.preview_image.width >= 713 %}{{ media.preview_image | image_url: width: 713 }} 713w,{% endif %}
                                    {% if media.preview_image.width >= 823 %}{{ media.preview_image | image_url: width: 823 }} 823w,{% endif %}
                                    {% if media.preview_image.width >= 992 %}{{ media.preview_image | image_url: width: 992 }} 992w,{% endif %}
                                    {% if media.preview_image.width >= 1100 %}{{ media.preview_image | image_url: width: 1100 }} 1100w,{% endif %}
                                    {% if media.preview_image.width >= 1206 %}{{ media.preview_image | image_url: width: 1206 }} 1206w,{% endif %}
                                    {% if media.preview_image.width >= 1346 %}{{ media.preview_image | image_url: width: 1346 }} 1346w,{% endif %}
                                    {% if media.preview_image.width >= 1426 %}{{ media.preview_image | image_url: width: 1426 }} 1426w,{% endif %}
                                    {% if media.preview_image.width >= 1646 %}{{ media.preview_image | image_url: width: 1646 }} 1646w,{% endif %}
                                    {% if media.preview_image.width >= 1946 %}{{ media.preview_image | image_url: width: 1946 }} 1946w,{% endif %}
                                    {{ media.preview_image | image_url }} {{ media.preview_image.width }}w"
                                  src="{{ media.preview_image | image_url: width: 370 }} 370w"
                                  sizes="(min-width: {{ settings.page_width }}px) {{ settings.page_width | minus: 130 | divided_by: 4 }}px, (min-width: 992px) calc((100vw - 130px) / 4), (min-width: 768px) calc((100vw - 120px) / 3), calc((100vw - 35px) / 2)"
                                  loading="lazy"
                                  width="{{ media.preview_image.width }}"
                                  height="{{ media.preview_image.height }}"
                                  alt="{{ media.preview_image.alt | escape }}">
                                {%- if wblookpd.media[1] != nil and show_secondary_image -%}
                                  <img srcset="{%- if wblookpd.media[1].width >= 165 -%}{{ wblookpd.media[1] | image_url: width: 165 }} 165w,{%- endif -%}
                                    {%- if wblookpd.media[1].width >= 360 -%}{{ wblookpd.media[1] | image_url: width: 360 }} 360w,{%- endif -%}
                                    {% if wblookpd.media[1].width >= 493 %}{{ wblookpd.media[1] | image_url: width: 493 }} 493w,{% endif %}
                                    {% if wblookpd.media[1].width >= 600 %}{{ wblookpd.media[1] | image_url: width: 600 }} 600w,{% endif %}
                                    {% if wblookpd.media[1].width >= 713 %}{{ wblookpd.media[1] | image_url: width: 713 }} 713w,{% endif %}
                                    {% if wblookpd.media[1].width >= 823 %}{{ wblookpd.media[1] | image_url: width: 823 }} 823w,{% endif %}
                                    {% if wblookpd.media[1].width >= 992 %}{{ wblookpd.media[1] | image_url: width: 992 }} 992w,{% endif %}
                                    {{ wblookpd.media[1] | image_url }} {{ wblookpd.media[1].width }}w"
                                    src="{{ wblookpd.media[1] | image_url: width: 370 }}"
                                    alt="{{ wblookpd.media[1].alt | escape }}"
                                    sizes="(min-width: {{ settings.page_width }}px) {{ settings.page_width | minus: 130 | divided_by: 4 }}px, (min-width: 992px) calc((100vw - 130px) / 4), (min-width: 768px) calc((100vw - 120px) / 3), calc((100vw - 35px) / 2)"
                                    class="motion-reduce img-fluid mx-auto lazyload"
                                    loading="lazy"
                                    width="{{ wblookpd.media[1].width }}"
                                    height="{{ wblookpd.media[1].height }}">
                                  {%- endif -%}
                              </a>
                            </div>
                          {%- endif -%}
                        {%- endfor -%}
                      </div>
                    {%- endif -%}
                    {% unless wblookpd.featured_media %} {{ wblookpd.title }} {% endunless %}
            </div>
                <div class="wbproductdes card__content">
                  <product-info id="ProductInfo-{{ block.id }}-{{ wblookpd.id }}" data-section-input="{{ block.id }}" data-section="{{ block.id }}-{{ wblookpd.id }}" data-layout="card" data-url="{{ wblookpd.url }}">
                    <input type="hidden" name="id" class="product-variant-id" value="{{ wblookpd.selected_or_first_available_variant.id }}" disabled>
                    {%- assign product_form_id = 'product-form-' | append: block.id | append: '-' | append: wblookpd.id -%}

                      <div class="card__information">
                        <div class="price_position {% if pro_preview_position == 'in_side' %} justify-content-{{ settings.card_text_alignment }} {% endif %}">
                          <span>{{ wblookpd.vendor }}</span>
                        <h3 class="{% if settings.price_position == 'above_title' %} price_above_title {% endif %} cardhide_toggle card__heading{% if wblookpd.featured_media or settings.card_style == 'standard' %} h5{% endif %}" {% if wblookpd.featured_media or settings.card_style == 'card' %} id="title-{{ block.id }}-{{ wblookpd.id }}" {% endif %}>
                            <a href="{{ wblookpd.url | default: '#' }}" id="CardLink-{{ block.id }}-{{ wblookpd.id }}" class="full-unstyled-link" aria-labelledby="CardLink-{{ block.id }}-{{ wblookpd.id }} Badge-{{ block.id }}-{{ wblookpd.id }}" >
                              {{ wblookpd.title | escape }}
                            </a>
                        </h3>
                      </div>
                      <div class="list_qty_wrapper">
                          <color-swatch class="new-swatch variant-webi" data-section="{{ section.id }}" data-product="{{ wblookpd.id }}" data-url="{{ wblookpd.url }}" data-update-url="false" data-layout="card" {{ block.shopify_attributes }}>
                            {%- for option in wblookpd.options_with_values -%}
                              {%- liquid
                                assign hover_swatch_count = option.values | map: 'swatch' | compact | size
                              -%}
                              <fieldset {% if option.name == 'Color' %} class="js product_form_input swatchComponent inner-class parent-display" {% else %} class="hidden" {% endif %}>
                                <div class="wbswatchclr">
                                  {%- liquid
                                    assign variants_available_arr = wblookpd.variants | map: 'available'
                                    assign variants_option1_arr = wblookpd.variants | map: 'option1'
                                    assign variants_option2_arr = wblookpd.variants | map: 'option2'
                                    assign variants_option3_arr = wblookpd.variants | map: 'option3'
                                    assign product_form_id = 'product-form-' | append: section.id
                                  -%}
                                  {%- for value in option.values -%}
                                    {%- liquid
                                      assign option_disabled = true
                                      for option1_name in variants_option1_arr
                                        case option.position
                                          when 1
                                            if variants_option1_arr[forloop.index0] == value and variants_available_arr[forloop.index0]
                                                assign option_disabled = false
                                            endif
                                          when 2
                                            if option1_name == wblookpd.selected_or_first_available_variant.option1 and variants_option2_arr[forloop.index0] == value and variants_available_arr[forloop.index0]
                                                assign option_disabled = false
                                            endif
                                          when 3
                                            if option1_name == wblookpd.selected_or_first_available_variant.option1 and variants_option2_arr[forloop.index0] == wblookpd.selected_or_first_available_variant.option2 and variants_option3_arr[forloop.index0] == value and variants_available_arr[forloop.index0]
                                                assign option_disabled = false
                                            endif
                                        endcase
                                      endfor
                                      assign swatch_focal_point = null
                                      if value.swatch.image
                                        assign image_url = value.swatch.image | image_url: width: 50
                                        assign swatch_value = 'url(' | append: image_url | append: ')'
                                        assign swatch_focal_point = value.swatch.image.presentation.focal_point
                                      elsif value.swatch.color
                                        assign swatch_value = 'rgb(' | append: value.swatch.color.rgb | append: ')'
                                      else
                                        assign swatch_value = null
                                      endif
                                    -%}
                                    <input type="radio" id="{{ section.id }}-{{ wblookpd.id }}-{{ option.position }}-{{ forloop.index0 }}" name="{{ option.name }}-{{ section.id }}-{{ wblookpd.id }}" value="{{ value | escape }}" aria-label="Options" form="{{ product_form_id }}-{{ wblookpd.id }}" {% if option.selected_value == value %}checked{% endif %} class="{% if option_disabled %}disabled{% endif %} {% if forloop.index > 4 and option.values.size > 4 %}show-more-item hidden{% endif %}">
                                      {% if option.name == 'Color' %}
                                        {%- liquid
                                            assign colorfile = value | handle | append: '.' | append: 'png'
                                            assign colorimg = colorfile | file_img_url: '50x50' | prepend: 'https:' | split: '?' | first
                                            assign colorvalue = value | downcase | replace: ' ', ''

                                            assign swatch_value = null
                                            if value.swatch.image
                                              assign image_url = value.swatch.image | image_url: width: 50
                                              assign swatch_value = 'url(' | append: image_url | append: ')'
                                              assign swatch_focal_point = value.swatch.image.presentation.focal_point
                                            elsif value.swatch.color
                                              assign swatch_value = 'rgb(' | append: value.swatch.color.rgb | append: ')'
                                            endif
                                          -%}
                                          {% comment %} <label data-href="{{ wblookpd.url }}" class="{% if forloop.index > 4 and option.values.size > 4 %}show-more-item hidden {% endif %}color-swatchimg color-swatch {% if option.selected_value == value %} active{% endif %}" for="{{ section.id }}-{{ wblookpd.id }}-{{ option.position }}-{{ forloop.index0 }}" data-val="{{ value }}" style="background-color: {{ colorswatchvalue }};{% if images[color_file_name] != blank %}  background-image: url({{ swatchimage }});background-size: cover;{% endif %}"></label> {% endcomment %}

                                          <label
                                          data-href="{{ wblookpd.url }}"
                                          class="color-swatchimg color-swatch{% if option.selected_value == value %} active{% endif %}"
                                          for="{{ section.id }}-{{ wblookpd.id }}-{{ option.position }}-{{ forloop.index0 }}"
                                          data-value="{{ value }}"
                                        >
                                          {% if hover_swatch_count > 0 %}
                                            <span
                                              {% if swatch_value %}
                                                class="swatch"
                                                style="--swatch--background: {{ swatch_value }};{% if swatch_focal_point %} --swatch-focal-point: {{ swatch_focal_point }};{% endif %}"
                                              {% else %}
                                                class="swatch swatch--unavailable"
                                              {% endif %}
                                            ></span>
                                          {% else %}
                                            <span class="swatch"
                                              style="background-color: {{ colorvalue }};{% if images[colorfile] != blank %} background-image: url({{ colorimg }});{% endif %}"
                                            ></span>
                                          {% endif %}
                                        </label>
                                      {% endif %}
                                  {% endfor %}
                                  </div>
                              </fieldset>
                            {% endfor -%}
                            <script type="application/json">
                              {{ wblookpd.variants | json }}
                            </script>
                          </color-swatch>
                      </div>
                      </div>
                      <div class="list_product_last">
                          <div class="card-information">
                              <div class="no-js-hidden wbhprice wblookprice" id="price-{{ block.id }}-{{ wblookpd.id }}" role="status" {{ block.shopify_attributes }}>
                                    {%- render 'price', product: wblookpd, use_variant: true, show_badges: false -%}
                              </div>
                              {%- if wblookpd.quantity_price_breaks_configured? -%}
                                <div class="card__information-volume-pricing-note">
                                  <span class="caption">{{ 'products.product.volume_pricing.note' | t }}</span>
                                </div>
                              {%- endif -%}
                          </div>
                          <div id="ProductInfo-{{ block.id }}-{{ wblookpd.id }}" class="addcart_pro">
                              <product-form>
                              {%- assign product_form_id = 'product-form-' | append: block.id | append: '-' | append: wblookpd.id -%}
                              {%- form 'product', wblookpd, id: product_form_id, class: 'form', novalidate: 'novalidate', data-type: 'add-to-cart-form' -%}
                                  <input type="hidden" name="id" class="product-variant-id" 
                                          value="{{ wblookpd.selected_or_first_available_variant.id }}" disabled>
                                          {% if wblookpd.has_only_default_variant or show_variants == true %}
                                      <button id="{{ product_form_id }}-submit" type="submit" name="add"
                                              class="add-to-cart__submit button button--primary" aria-haspopup="dialog"
                                              aria-labelledby="{{ product_form_id }}-submit title-{{ block.id }}-{{ wblookpd.id }}"
                                              aria-live="polite"
                                              data-sold-out-message="true" {% if wblookpd.selected_or_first_available_variant.available == false %} disabled {% endif %}>
                                          {%- if wblookpd.selected_or_first_available_variant.available -%}
                                              <span class="">{{ 'products.product.add_to_cart' | t }}</span>
                                          {%- else -%}
                                              <span class="">{{ 'products.product.sold_out' | t }}</span>
                                          {%- endif -%}
                                          <span class="sold-out-message hidden">{{ 'products.product.sold_out' | t }}</span>
                                          {% comment %} <span>
                                            {% render 'icon-cart' %}
                                          </span> {% endcomment %}
                                          <span class="loading-overlay__spinner hidden">
                                              <svg aria-hidden="true" focusable="false" class="spinner" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg"> <circle class="path" fill="none" stroke-width="6" cx="33" cy="33" r="30"></circle> </svg>
                                          </span>
                                      </button>
                                       {% else %}
                                      <a href="{{ wblookpd.url }}" class="add-to-cart__submit button"><span>{{ 'products.product.select_option' | t }}</span></a>
                                  {% endif %}
                              {%- endform -%}
                              </product-form>

                              {% comment %} <product-form class="no-js-hidden" id="ProductInfo-{{ section.id }}-{{ card_product.id }}">
                                {%- assign product_form_id = 'product-form-' | append: section.id | append: '-' | append: card_product.id -%}
                                {%- form 'product', card_product, id: product_form_id, class: 'form', novalidate: 'novalidate', data-type: 'add-to-cart-form' -%}
                                  <input type="hidden" name="id" class="product-variant-id" value="{{ card_product.selected_or_first_available_variant.id }}" disabled>
                                  {% if atc_btn_position == 'bottom' %}
                                    {% if card_product.has_only_default_variant or show_variants == true %}
                                      <button id="{{ product_form_id }}-submit" type="submit" name="add"
                                        class="add-to-cart__submit button button--primary" aria-haspopup="dialog"
                                        aria-labelledby="{{ product_form_id }}-submit title-{{ section_id }}-{{ card_product.id }}"
                                        aria-live="polite"
                                        data-sold-out-message="true" {% if card_product.selected_or_first_available_variant.available == false %} disabled {% endif %}>
                                        {%- if card_product.selected_or_first_available_variant.available -%}
                                          <span>{{ 'products.product.add_to_cart' | t }}</span>
                                          {% render 'icon-hcartbag' %}
                                        {%- else -%}
                                          <span>{{ 'products.product.sold_out' | t }}</span>
                                          {% render 'icon-hcartbag' %}
                                        {%- endif -%}
                                        <span class="sold-out-message hidden">{{ 'products.product.sold_out' | t }}</span>
                                        <span class="loading-overlay__spinner hidden">
                                          <svg aria-hidden="true" focusable="false" class="spinner" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg"> <circle class="path" fill="none" stroke-width="6" cx="33" cy="33" r="30"></circle> </svg>
                                        </span>
                                      </button>
                                      {% else %}
                                      <a href="{{ card_product.url }}" class="add-to-cart__submit button"><span>{{ 'products.product.select_option' | t }}</span></a>
                                  {% endif %}
                                    {% endif %}
                                    {%- endform -%}
                                  </product-form> {% endcomment %}


                          </div>
                      </div>
                  </product-info>
                </div>
              </div>
            </div>
            {%- else -%}
              <div class="card_lookbook_list product-card-wrapper card-wrapper">
                <div class="card card--card card--horizontal
                    {% if extend_height %} card--extend-height{% endif %}
                    color-{{ settings.card_color_scheme }} gradient"
                  style="--ratio-percent: 100%;" >
                  <div class="card__inner wbimgblock color-{{ settings.card_color_scheme }} gradient ratio" style="--ratio-percent: 100%;">
                    <div class="card__media">
                      <div class="media media--transparent">
                        {%- if placeholder_image -%}
                          {{ placeholder_image | placeholder_svg_tag: 'placeholder-svg' }}
                        {%- else -%}
                          {{ 'product-apparel-2' | placeholder_svg_tag: 'placeholder-svg' }}
                        {% endif %}
                      </div>
                    </div>
                  </div>
                    
                  <div class="card__content wbproductdes">
                    <div class="card__information">
                      {%- if show_vendor -%}
                          <span class="visually-hidden">{{ 'accessibility.vendor' | t }}</span>
                          <div class="product__vendor">{{ 'products.product.vendor' | t }}</div>
                      {%- endif -%}
                      <h3 class="card__heading h5">
                        <a role="link" aria-disabled="true" class="full-unstyled-link">
                            {{ 'onboarding.product_title' | t }}
                        </a>
                      </h3> 
                      <div class="card-information">
                        <span class="caption-large light">{{ block.settings.description | escape }}</span>
                        <div class="wbhprice">
                          {%- render 'price', product: product, use_variant: true, show_badges: false -%}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            {%- endif -%}
            </li>
          {% endfor %}
        </ul> 
          <div class="hidden slideshow__controls slidshow-section--{{ section.id }} slider-buttons no-js-hidden">
            <div class="wb_home_sbtn slider-buttons no-js-hidden">
              <button type="button" class="slider-button custom__button slider-button--prev" name="previous" aria-label="{{ 'sections.slideshow.previous_slideshow' | t }}" aria-controls="Slider-{{ section.id }}">
                {% render 'icon-caret' %}
              </button>
              <div class="slider-counter slider-counter--dots hidden">
                  <div class="slideshow__control-wrapper">
                    {%- for i in (1..4) -%}
                      <button class="slider-counter__link slider-counter__link--dots link" aria-label="{{ 'sections.slideshow.load_slide' | t }} {{ forloop.index }} {{ 'general.slider.of' | t }} {{ forloop.length }}" aria-controls="Slider-{{ section.id }}" data-id="dots-{{ forloop.index }}">
                          {{ forloop.index }}
                      </button>
                    {%- endfor -%}
                  </div>
              </div>
                  <button type="button" class="slider-button custom__button slider-button--next" name="next" aria-label="{{ 'sections.slideshow.next_slideshow' | t }}">
                {% render 'icon-caret' %}
              </button>
            </div>
          </div>
      </slideshow-component>
      <div class="grid__item cless">
        <div class="wblbookmain global-media-settings" id="wblbookmain">
          {%- if block.settings.image != blank -%}
            {%- liquid
              assign image_height = block.settings.image.width | divided_by: block.settings.image.aspect_ratio | round
              assign sizes = full_width
            -%}
            {{
                block.settings.image
                | image_url: width: 3840
                | image_tag:
                loading: 'lazy',
                width: block.settings.image.width,
                height: image_height,
                class: "zoom_effect",
                sizes: sizes,
                widths: widths }}
          {% else %}
            {%- assign placeholder_slide = forloop.index | modulo: 2 -%}
            {%- if placeholder_slide == 1 -%}
              {{ 'hero-apparel-2' | placeholder_svg_tag: 'placeholder-svg' }}
            {%- else -%}
              {{ 'hero-apparel-1' | placeholder_svg_tag: 'placeholder-svg' }}
            {%- endif -%} 
          {%- endif -%}
            {%- liquid
              assign wblooktop = block.settings.wblooktop
              assign wblookleft = block.settings.wblookleft
              assign wblookpd = block.settings.product
            -%}
            {%- for i in (1..4) -%}
            {%- liquid 
              assign wblooktop = 'wblooktop_' | append: i
              assign wblooktop = block.settings[wblooktop]
              assign wblookleft = 'wblookleft_' | append: i
              assign wblookleft = block.settings[wblookleft]
              assign wblookpd = 'product_' | append: i
              assign wblookpd = block.settings[wblookpd]
              assign wblookpd = all_products[wblookpd]
            -%}

            {%- unless wblookpd == blank -%}
              {%- assign wblookpd = all_products[wblookpd] -%}
              <div class="wblookbook" data-id="dots-{{ forloop.index }}" style="top: max(calc({{ wblooktop }}% - 40px), 0%); left: max(calc({{ wblookleft }}% - 40px), 0%);">
                {% comment %} <span class="wblookbtn focus-inset {% if forloop.first %}active{% endif %}" data-sectionid="{{ section.id }}" data-blobkid="lookbook-{{ forloop.index }}-{{ block.id }}">
                </span> {% endcomment %}
              <button type="button" name="lookbookpoint-{{ i }}" class="wblookbtn wblookbook focus-inset {% if forloop.first %}active{% endif %}" data-sectionid="{{ section.id }}"
                data-blobkid="lookbook-{{ forloop.index }}-{{ block.id }}" data-no="{{i}}"></button>
              </div>
            {%- endunless -%}
          {%- endfor -%}
          </div>
        </div>
      </div>
  </look-book>
  {%- when 'feature_text' -%}
    {% style %}
    look-book .grid__item.active .card--{{ block.id }}{
      background-color: {{ block.settings.active_color1 }};
    } 
  {% endstyle %}
    <look-book>
    <div class="grid grid--2-col-desktop grid--1-col-tablet-down rless">
      <slideshow-component class="relative grid__item slider-mobile-gutter slider-component-desktop{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
        {% if forloop.first %}
          {% if section.settings.miniheading != blank or section.settings.title != blank or section.settings.description != blank %}
            <div class="heading-top justify-content-{{ section.settings.heading_alignment }}">
                <div class="heading inline-richtext {{ section.settings.heading_alignment }}">
                  {%- if section.settings.miniheading != blank -%}
                    <span class="offer_pills {% if section.settings.mini_heading_style == 'button' %}offer_pills_button {% elsif section.settings.mini_heading_style == 'outline' %}offer_pills_outline {% else section.settings.mini_heading_style == 'link' %}offer_pills_link {% endif %}">
                        {{ section.settings.miniheading }}
                    </span>
                  {%- endif %}
                  {%- if section.settings.title != blank -%} 
                    <h2 class="{{ section.settings.heading_size }}">
                      {{ section.settings.title }}
                    </h2>
                  {%- endif %}
                  {%- if section.settings.description != blank -%}
                    <div class="description {{ section.settings.description_style }} rte">
                      {{ section.settings.description -}}
                    </div>
                  {%- endif %}
                </div>
            </div>
          {% endif %}
        {% endif %}
        <ul id="Slider-{{ section.id }}" class="over_scroll slider slider--tablet grid product-grid contains-card contains-card--product grid--1-col-desktop grid--1-col-tablet-down {% if settings.card_style == 'standard' %} contains-card--standard{% endif %}" aria-label="{{ 'general.slider.name' | t }}">
          {%- for i in (1..4) -%} 
            {%- liquid 
              assign wblookftop = 'wblookftop_' | append: i
              assign wblookftop = block.settings[wblookftop]
              assign wblookfleft = 'wblookfleft_' | append: i
              assign wblookfleft = block.settings[wblookfleft]
              assign wblookfpd = 'feature_title' | append: i
              assign wblookfpd = block.settings[wblookfpd]
              assign wblookftxt = 'feature_content' | append: i
              assign wblookftxt = block.settings[wblookftxt]
              assign wblookfpd = all_products[wblookpd]
            -%}
            <li id="Slide-{{ section.id }}-{{ forloop.index }}" class="grid__item slider__slide slideshow__slide {% if settings.animations_reveal_on_scroll %}scroll-trigger animate--slide-in{% endif %}{% if forloop.first %} active{% endif %}" {% if settings.animations_reveal_on_scroll %} data-cascade style="--animation-order: {{ forloop.index }};"{% endif %} data-blobkid="lookbook-{{ forloop.index }}-{{ block.id }}">
              <div class="card_lookbook_list card-wrapper wbproduct-container product-card-wrapper {{ settings.card_text_alignment }} ">
                <div class=" card card--card card--{{ block.id }}
                  color-{{ settings.card_color_scheme }} gradient
                  card--horizontal" style="--ratio-percent: {{ 1 | divided_by: ratio | times: 100 }}%;">             
                  <div class="wbproductdes card__content">
                    {%- assign product_form_id = 'product-form-' | append: block.id | append: '-' | append: wblookpd.id -%}
                      <div class="card__information">
                        <h3>{{ wblookfpd }}</h3>
                        <span>{{ wblookftxt }}</span>
                      </div>
                  </div>
              </div>
            </div>
            </li>
          {% endfor %}
        </ul> 
          <div class="hidden slideshow__controls slidshow-section--{{ section.id }} slider-buttons no-js-hidden">
            <div class="wb_home_sbtn slider-buttons no-js-hidden">
              <button type="button" class="slider-button custom__button slider-button--prev" name="previous" aria-label="{{ 'sections.slideshow.previous_slideshow' | t }}" aria-controls="Slider-{{ section.id }}">
                {% render 'icon-caret' %}
              </button>
              <div class="slider-counter slider-counter--dots hidden">
                  <div class="slideshow__control-wrapper">
                    {%- for i in (1..4) -%}
                      <button class="slider-counter__link slider-counter__link--dots link" aria-label="{{ 'sections.slideshow.load_slide' | t }} {{ forloop.index }} {{ 'general.slider.of' | t }} {{ forloop.length }}" aria-controls="Slider-{{ section.id }}" data-id="dots-{{ forloop.index }}">
                          {{ forloop.index }}
                      </button>
                    {%- endfor -%}
                  </div>
              </div>
                  <button type="button" class="slider-button custom__button slider-button--next" name="next" aria-label="{{ 'sections.slideshow.next_slideshow' | t }}">
                {% render 'icon-caret' %}
              </button>
            </div>
          </div>
      </slideshow-component>
      <div class="grid__item cless">
        <div class="wblbookmain global-media-settings" id="wblbookmain">
          {%- if block.settings.image1 != blank -%}
            {%- liquid
              assign image_height = block.settings.image1.width | divided_by: block.settings.image1.aspect_ratio | round
              assign sizes = full_width
            -%}
            {{
                block.settings.image1
                | image_url: width: 3840
                | image_tag:
                loading: 'lazy',
                width: block.settings.image1.width,
                height: image_height,
                class: "zoom_effect",
                sizes: sizes,
                widths: widths }}
          {% else %}
            {%- assign placeholder_slide = forloop.index | modulo: 2 -%}
            {%- if placeholder_slide == 1 -%}
              {{ 'hero-apparel-2' | placeholder_svg_tag: 'placeholder-svg' }}
            {%- else -%}
              {{ 'hero-apparel-1' | placeholder_svg_tag: 'placeholder-svg' }}
            {%- endif -%} 
          {%- endif -%}
            {%- liquid
              assign wblookftop = block.settings.wblookftop
              assign wblookfleft = block.settings.wblookfleft
            -%}
            {%- for i in (1..4) -%}
            {%- liquid 
              assign wblookftop = 'wblookftop_' | append: i
              assign wblookftop = block.settings[wblookftop]
              assign wblookfleft = 'wblookfleft_' | append: i
              assign wblookfleft = block.settings[wblookfleft]
              assign wblookfpd = 'feature_title' | append: i
              assign wblookfpd = block.settings[wblookfpd]
              assign wblookftxt = 'feature_content' | append: i
              assign wblookftxt = block.settings[wblookftxt]
              assign wblookfpd = all_products[wblookpd]
            -%}
              {%- assign wblookpd = all_products[wblookpd] -%}
              <div class="wblookbook" data-id="dots-{{ forloop.index }}" style="top: max(calc({{ wblookftop }}% - 40px), 0%); left: max(calc({{ wblookfleft }}% - 40px), 0%);">
                {% comment %} <span class="wblookbtn focus-inset {% if forloop.first %}active{% endif %}" data-sectionid="{{ section.id }}" data-blobkid="lookbook-{{ forloop.index }}-{{ block.id }}">
                </span> {% endcomment %}
              <button type="button" name="lookbookpoint-{{ i }}" class="wblookbtn wblookbook focus-inset {% if forloop.first %}active{% endif %}" data-sectionid="{{ section.id }}"
                data-blobkid="lookbook-{{ forloop.index }}-{{ block.id }}" data-no="{{i}}"></button>
              </div>
          {%- endfor -%}
          </div>
        </div>
      </div>
  </look-book>
{%- endcase -%}
{%- endfor -%}
{%- style -%}
  .wblbook-{{ section.id }} .wblookbleft.active{
      display: block;
  }
{%- endstyle -%}
  